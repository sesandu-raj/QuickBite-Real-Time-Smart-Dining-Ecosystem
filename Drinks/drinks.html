<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Drinks Menu | QuickBite</title>
    <link rel="stylesheet" href="dricks_menu.css" />
    <link rel="stylesheet" href="../style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="bg-background-dark font-display">
    <!-- Background Orbs (Optional - but recommended for consistency) -->
    <div class="bg-glow-container">
      <div class="orb orb-primary"></div>
      <div class="orb orb-amber"></div>
    </div>

    <!-- Custom Prompt Overlay (QR Code Name Input Modal) -->
    <div id="custom-prompt-overlay" class="prompt-overlay">
      <div class="prompt-card glass">
        <div class="prompt-icon">
          <span class="material-symbols-outlined">person_pin</span>
        </div>
        <h2>Welcome!</h2>
        <p>
          Please enter your name to personalize your experience at
          <span
            id="prompt-table-display"
            style="color: var(--primary); font-weight: 800"
          ></span>
          .
        </p>

        <div class="input-group">
          <input
            type="text"
            id="custom-name-input"
            placeholder="Your Name..."
            autocomplete="off"
          />
        </div>

        <button id="confirm-name-btn" class="btn-primary" style="width: 100%">
          Start Dining
        </button>
      </div>
    </div>

    <div class="relative-content">
      <!-- Main Navigation Bar -->
      <header
        class="glass"
        style="
          width: 100vw;
          position: fixed;
          top: 0;
          left: 0;
          z-index: 50;
          padding: 15px 0;
        "
      >
        <div class="container nav-wrapper">
          <!-- Logo -->
          <div class="logo">
            <span class="material-symbols-outlined">all_inclusive</span>
            <h2>QuickBite</h2>
          </div>

          <!-- Navigation Links -->
          <nav>
            <ul>
              <li><a href="../index.html">Home</a></li>
              <li><a href="../Menu/manu_final.html">Menu</a></li>
              <li><a href="../My_Orders/my_orders.html">My Orders</a></li>
            </ul>
          </nav>

          <!-- Nav Actions: Order Button + User Profile -->
          <div class="nav-actions" id="nav-actions">
            <button class="btn-order">Order Now</button>
            <div id="nav-profile-slot"></div>
          </div>
        </div>
      </header>

      <main class="container py-10">
        <div class="mb-8">
          <h1 class="page-title">Drinks Menu</h1>
          <p class="text-muted">
            Premium brews and tropical refreshers for your study session.
          </p>
        </div>

        <div class="search-container glass">
          <span class="material-symbols-outlined">search</span>
          <input
            type="text"
            id="search-input"
            placeholder="Search for coffee, tea, mocktails..."
          />
        </div>

        <div class="filter-pills" id="filterContainer">
          <div class="pill active" data-category="all">All Drinks</div>
          <div class="pill" data-category="coffee">Coffee</div>
          <div class="pill" data-category="tea">Tea</div>
          <div class="pill" data-category="mocktails">Mocktails</div>
          <div class="pill" data-category="refreshers">Refreshers</div>
        </div>

        <div id="drinks-container">
          <!-- Drinks will be loaded from array -->
        </div>
                      >add_shopping_cart</span
                    >
                    Add to Cart
                  </button>
                </div>
              </div>
            </div>
          </div>
        </section>
      </main>

      <footer>
        <div class="container">
          <div class="footer-grid">
            <!-- COLUMN 1: Brand & Description -->
            <div class="footer-brand">
              <div class="logo">
                <span class="material-symbols-outlined">all_inclusive</span>
                <h2 style="font-size: 1.2rem; font-weight: 800">QuickBite</h2>
              </div>
              <p>
                Dedicated to the night owls, the morning birds, and everyone in
                between. We are your 24/7 sanctuary for productivity.
              </p>
              <div class="social-links">
                <a href="#" class="social-icon"
                  ><span
                    class="material-symbols-outlined"
                    style="font-size: 18px"
                    >public</span
                  ></a
                >
                <a href="#" class="social-icon"
                  ><span
                    class="material-symbols-outlined"
                    style="font-size: 18px"
                    >share</span
                  ></a
                >
                <a href="#" class="social-icon"
                  ><span
                    class="material-symbols-outlined"
                    style="font-size: 18px"
                    >mail</span
                  ></a
                >
              </div>
            </div>

            <!-- COLUMN 2: Quick Links -->
            <div>
              <h4 class="footer-heading">Quick Links</h4>
              <ul class="footer-links">
                <li><a href="#">Digital Menu</a></li>
                <li><a href="#">Study Pod Booking</a></li>
                <li><a href="#">Student Perks</a></li>
                <li><a href="#">Rewards Program</a></li>
              </ul>
            </div>

            <!-- COLUMN 3: Contact Info -->
            <div>
              <h4 class="footer-heading">Visit Us</h4>
              <ul class="contact-info">
                <li>
                  <span class="material-symbols-outlined">location_on</span>
                  <span
                    >123 University Ave,<br />Campus District, NY 10012</span
                  >
                </li>
                <li>
                  <span class="material-symbols-outlined">schedule</span>
                  <span
                    >Open 24 Hours / 7 Days a Week<br />Fresh Coffee Every
                    Hour</span
                  >
                </li>
              </ul>
            </div>
          </div>

          <!-- FOOTER BOTTOM: Copyright & Legal Links -->
          <div class="footer-bottom">
            <p>Â© 2026 QuickBite. All rights reserved.</p>
            <div class="legal-links">
              <a href="#">Privacy Policy</a>
              <a href="#">Terms of Service</a>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <div class="mobile-cart glass">
      <div class="cart-info">
        <span class="material-symbols-outlined text-primary">shopping_bag</span>
        <span class="font-bold">0 Items</span>
      </div>
      <div class="divider"></div>
      <div class="cart-total">
        <span class="text-muted">Total: <b>Rs. 0</b></span>
        <button class="btn-checkout" onclick="sendOrderToKitchen()">
          Checkout
        </button>
      </div>
    </div>

    <script src="../script.js"></script>
    <script>
      // Drinks Data Array
      const drinksData = [
        // {
        //   name: 'Iced Oat Latte',
        //   price: 750,
        //   image: './iced_oat_latte.jpg',
        //   description: 'Double espresso, creamy oat milk, and a touch of vanilla bean.',
        //   category: 'coffee',
        //   badge: 'Best Seller'
        // },
        // {
        //   name: 'Nitro Cold Brew',
        //   price: 850,
        //   image: './nitro_cold_brew.jpg',
        //   description: 'Velvety smooth, nitrogen-infused cold brew coffee.',
        //   category: 'coffee',
        //   badge: null
        // },
        {
          name: 'Passion Chill',
          price: 650,
          image: 'passion_chill.jpg',
          description: 'Fresh passion fruit nectar, ginger ale, and lime zest.',
          category: 'mocktails',
          badge: 'New'
        },
        {
          name: 'Mango Lassi',
          price: 500,
          image: 'mango_lassi.jpg',
          description: 'Creamy yogurt blend with fresh mango and cardamom.',
          category: 'refreshers',
          badge: 'Best Seller'
        },
        {
          name: 'Oolong Tea',
          price: 450,
          image: 'oolong_tea.jpg',
          description: 'Smooth, semi-oxidized traditional oolong tea.',
          category: 'tea',
          badge: null
        },
        {
          name: 'Espresso Shot',
          price: 250,
          image: 'espresso_shot.jpg',
          description: 'Classic double shot of premium espresso.',
          category: 'coffee',
          badge: null
        },
        {
          name: 'Green Tea Latte',
          price: 550,
          image: 'green_tea_latte.jpg',
          description: 'Creamy matcha blend with steamed milk and honey.',
          category: 'tea',
          badge: null
        },
        {
          name: 'Berry Cooler',
          price: 600,
          image: 'berry_cooler.jpg',
          description: 'Mixed berry juice with ice and fresh mint.',
          category: 'refreshers',
          badge: null
        }
      ];

      // Load drinks from array
      function loadDrinks(drinksToDisplay = drinksData) {
        const container = document.getElementById('drinks-container');
        container.innerHTML = '';

        drinksToDisplay.forEach(drink => {
          let badgeHTML = '';
          if (drink.badge) {
            const badgeClass = drink.badge === 'New' ? 'badge-tag secondary' : 'badge-tag';
            badgeHTML = `<span class="${badgeClass}">${drink.badge}</span>`;
          }

          const card = document.createElement('div');
          card.className = 'drink-card glass';
          card.dataset.category = drink.category;
          card.innerHTML = `
            <div class="card-media">
              <img src="${drink.image}" alt="${drink.name}" />
              ${badgeHTML}
            </div>
            <div class="card-body">
              <div class="title-row">
                <h3>${drink.name}</h3>
                <span class="price">Rs. ${drink.price}</span>
              </div>
              <p class="desc">${drink.description}</p>
              <div class="card-actions">
                <div class="quantity-picker">
                  <button onclick="changeQty(this, -1)">
                    <span class="material-symbols-outlined">remove</span>
                  </button>
                  <span class="qty-count">1</span>
                  <button onclick="changeQty(this, 1)">
                    <span class="material-symbols-outlined">add</span>
                  </button>
                </div>
                <button class="btn-add-cart" onclick="addToCart('${drink.name}', ${drink.price}, this)">
                  <span class="material-symbols-outlined">add_shopping_cart</span>
                  Add to Cart
                </button>
              </div>
            </div>
          `;
          container.appendChild(card);
        });
      }

      // Search functionality
      function searchDrinks(query) {
        const searchTerm = query.toLowerCase().trim();
        if (searchTerm === '') {
          loadDrinks(drinksData);
        } else {
          const filteredDrinks = drinksData.filter(drink =>
            drink.name.toLowerCase().includes(searchTerm) ||
            drink.description.toLowerCase().includes(searchTerm)
          );
          loadDrinks(filteredDrinks);
        }
      }

      // Initialize on page load
      document.addEventListener('DOMContentLoaded', () => {
        loadDrinks();

        // Add search event listener
        const searchInput = document.getElementById('search-input');
        if (searchInput) {
          searchInput.addEventListener('input', (e) => {
            searchDrinks(e.target.value);
          });
        }

        // Filter functionality
        const filterButtons = document.querySelectorAll('.filter-pills .pill');
        const container = document.getElementById('drinks-container');

        filterButtons.forEach(button => {
          button.addEventListener('click', () => {
            filterButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            const filter = button.dataset.category;
            const cards = container.querySelectorAll('.drink-card');

            cards.forEach(card => {
              const category = card.dataset.category || "";
              if (filter === "all" || category === filter) {
                card.style.display = "block";
              } else {
                card.style.display = "none";
              }
            });
          });
        });

        initializeQuickBite();
        updateMobileCartUI();
      });
    </script>
  </body>
</html>
