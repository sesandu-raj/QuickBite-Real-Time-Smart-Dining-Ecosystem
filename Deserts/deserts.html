<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>QuickBites - Indulgent Desserts</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="deserts.css" />
    <link rel="stylesheet" href="deserts.js" />
    <link rel="stylesheet" href="../style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
      rel="stylesheet"
    />
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <style>
      .hamburger {
        display: none;
        flex-direction: column;
        gap: 5px;
        background: none;
        border: none;
        cursor: pointer;
        z-index: 100;
      }

      .hamburger span {
        width: 25px;
        height: 3px;
        background: var(--text-white);
        border-radius: 2px;
        transition: var(--transition);
      }

      .hamburger.active span:nth-child(1) {
        transform: rotate(45deg) translate(8px, 8px);
      }

      .hamburger.active span:nth-child(2) {
        opacity: 0;
      }

      .hamburger.active span:nth-child(3) {
        transform: rotate(-45deg) translate(7px, -7px);
      }

      .mobile-nav {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--glass-bg);
        backdrop-filter: blur(12px);
        border: 1px solid var(--glass-border);
        flex-direction: column;
        width: 100vw;
        z-index: 99;
      }

      .mobile-nav.active {
        display: flex;
      }

      .mobile-nav ul {
        display: flex;
        flex-direction: column;
        list-style: none;
        gap: 0;
        padding: 0;
      }

      .mobile-nav li {
        border-bottom: 1px solid var(--glass-border);
      }

      .mobile-nav a {
        display: block;
        padding: 16px 20px;
        text-decoration: none;
        color: var(--text-muted);
        font-weight: 500;
        transition: var(--transition);
      }

      .mobile-nav a:hover {
        color: var(--primary);
        background: rgba(244, 140, 37, 0.1);
      }

      @media (max-width: 768px) {
        nav {
          display: none;
        }

        .hamburger {
          display: flex;
        }

        .nav-wrapper {
          gap: 10px;
        }
      }
    </style>
  </head>
  <body>
    <!-- Background Orbs (Optional - but recommended for consistency) -->
    <div class="bg-glow-container">
      <div class="orb orb-primary"></div>
      <div class="orb orb-amber"></div>
    </div>

    <!-- Custom Prompt Overlay (QR Code Name Input Modal) -->
    <div id="custom-prompt-overlay" class="prompt-overlay">
      <div class="prompt-card glass">
        <div class="prompt-icon">
          <span class="material-symbols-outlined">person_pin</span>
        </div>
        <h2>Welcome!</h2>
        <p>
          Please enter your name to personalize your experience at
          <span
            id="prompt-table-display"
            style="color: var(--primary); font-weight: 800"
          ></span>
          .
        </p>

        <div class="input-group">
          <input
            type="text"
            id="custom-name-input"
            placeholder="Your Name..."
            autocomplete="off"
          />
        </div>

        <button id="confirm-name-btn" class="btn-primary" style="width: 100%">
          Start Dining
        </button>
      </div>
    </div>

    <!-- Main Navigation Bar -->
    <header
      class="glass"
      style="
        width: 100vw;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 50;
        padding: 15px 0;
      "
    >
      <div class="container nav-wrapper">
        <!-- Logo -->
        <div class="logo">
          <span class="material-symbols-outlined">all_inclusive</span>
          <h2>QuickBite</h2>
        </div>

        <!-- Navigation Links -->
        <nav>
          <ul>
            <li><a href="../index.html">Home</a></li>
            <li><a href="../Menu/manu_final.html">Menu</a></li>
            <li><a href="../My_Orders/my_orders.html">My Orders</a></li>
          </ul>
        </nav>

        <!-- Nav Actions: Order Button + User Profile -->
        <div class="nav-actions" id="nav-actions">
          <button class="btn-order">Order Now</button>
          <div id="nav-profile-slot"></div>
        </div>

        <button class="hamburger" onclick="toggleMenu()">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </header>

    <nav id="mobile-nav" class="mobile-nav">
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="../Menu/manu_final.html">Menu</a></li>
        <li><a href="../My_Orders/my_orders.html">My Orders</a></li>
      </ul>
      <button class="btn-order" style="margin: 12px 20px; width: calc(100% - 40px)">Order Now</button>
    </nav>

    <div class="breadcrumbs" style="margin-top: 80px">
      <a href="../index.html">Home</a>
      <span class="material-symbols-outlined">chevron_right</span>
      <a href="../Menu/manu_final.html">Menu</a>
      <span class="material-symbols-outlined">chevron_right</span>
      <span>Desserts</span>
    </div>

    <section class="title-section">
      <h1>Sweet <span>Indulgence</span></h1>
      <p class="description-text">
        Treat yourself to our student-special collection. From warm lava cakes
        to artisan gelato, curated for late-night study breaks.
      </p>
    </section>

      <div class="search-container glass">
      <span class="material-symbols-outlined">search</span>
      <input
        type="text"
        id="search-input"
        placeholder="Search for cakes, ice cream, or treats..."
      />
    </div>

    <div class="filter-pills" id="filterContainer">
      <div class="pill active" data-category="all">All Sweets</div>
      <div class="pill" data-category="warm">Warm Cakes</div>
      <div class="pill" data-category="icecream">Ice Cream</div>
      <div class="pill" data-category="vegan">Vegan Friendly</div>
    </div>



    <main class="menu-grid" id="menuGrid">
      <!-- Items will be loaded from array -->
    </main>

    <footer>
      <div class="container">
        <div class="footer-grid">
          <!-- COLUMN 1: Brand & Description -->
          <div class="footer-brand">
            <div class="logo">
              <span class="material-symbols-outlined">all_inclusive</span>
              <h2 style="font-size: 1.2rem; font-weight: 800">QuickBite</h2>
            </div>
            <p>
              Dedicated to the night owls, the morning birds, and everyone in
              between. We are your 24/7 sanctuary for productivity.
            </p>
            <div class="social-links">
              <a href="#" class="social-icon"
                ><span class="material-symbols-outlined" style="font-size: 18px"
                  >public</span
                ></a
              >
              <a href="#" class="social-icon"
                ><span class="material-symbols-outlined" style="font-size: 18px"
                  >share</span
                ></a
              >
              <a href="#" class="social-icon"
                ><span class="material-symbols-outlined" style="font-size: 18px"
                  >mail</span
                ></a
              >
            </div>
          </div>

          <!-- COLUMN 2: Quick Links -->
          <div>
            <h4 class="footer-heading">Quick Links</h4>
            <ul class="footer-links">
              <li><a href="#">Digital Menu</a></li>
              <li><a href="#">Study Pod Booking</a></li>
              <li><a href="#">Student Perks</a></li>
              <li><a href="#">Rewards Program</a></li>
            </ul>
          </div>

          <!-- COLUMN 3: Contact Info -->
          <div>
            <h4 class="footer-heading">Visit Us</h4>
            <ul class="contact-info">
              <li>
                <span class="material-symbols-outlined">location_on</span>
                <span>123 University Ave,<br />Campus District, NY 10012</span>
              </li>
              <li>
                <span class="material-symbols-outlined">schedule</span>
                <span
                  >Open 24 Hours / 7 Days a Week<br />Fresh Coffee Every
                  Hour</span
                >
              </li>
            </ul>
          </div>
        </div>

        <!-- FOOTER BOTTOM: Copyright & Legal Links -->
        <div class="footer-bottom">
          <p>Â© 2026 QuickBite. All rights reserved.</p>
          <div class="legal-links">
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Service</a>
          </div>
        </div>
      </div>
    </footer>

    <div class="mobile-cart glass">
      <div class="cart-info">
        <span class="material-symbols-outlined text-primary">shopping_bag</span>
        <span class="font-bold">0 Items</span>
      </div>
      <div class="divider"></div>
      <div class="cart-total">
        <span class="text-muted">Total: <b>Rs. 0</b></span>
        <button class="btn-checkout" onclick="sendOrderToKitchen()">
          Checkout
        </button>
      </div>
    </div>

    <script src="../script.js"></script>
    <script>
      // Desserts Data Array
      const desertsData = [
        {
          name: 'Molten Lava Cake',
          price: 550,
          image: 'https://images.unsplash.com/photo-1762631176731-42672d735b85?q=80&w=1520&auto=format&fit=crop',
          description: 'Freshly made chocolate mousse cake. Delicacy in cafe.',
          category: 'warm',
          badge: null
        },
        {
          name: 'Artisan Gelato',
          price: 675,
          image: 'https://images.unsplash.com/photo-1567206563064-6f60f40a2b57?auto=format&fit=crop&w=400',
          description: 'Hand-churned seasonal flavors. Choose 3 scoops.',
          category: 'icecream',
          badge: 'Best Seller'
        },
        {
          name: 'The Black Forest Cake',
          price: 700,
          image: 'https://images.unsplash.com/photo-1606890737304-57a1ca8a5b62?q=80&w=503&auto=format&fit=crop',
          description: 'A delicious German classic with an American spin.',
          category: 'warm',
          badge: null
        },
        {
          name: 'Doughnut',
          price: 400,
          image: 'https://images.unsplash.com/photo-1551024601-bec78aea704b?q=80&w=1528&auto=format&fit=crop',
          description: 'Sweet, fried pastry with a soft, fluffy inside.',
          category: 'warm',
          badge: null
        },
        {
          name: 'Waffle with Ice Cream',
          price: 530,
          image: 'https://images.unsplash.com/photo-1593250186288-f06f69859f8e?q=80&w=1374&auto=format&fit=crop',
          description: 'Belgium waffle served with three scoops of vanilla.',
          category: 'warm',
          badge: null
        },
        {
          name: 'Special Fruit Bowl',
          price: 630,
          image: 'https://images.unsplash.com/photo-1742860888419-df3ea5d3edcc?q=80&w=981&auto=format&fit=crop',
          description: 'Healthy fruit with yoghurt and crunchy nuts.',
          category: 'vegan',
          badge: 'Vegan'
        }
      ];

      // Load items from array
      function loadItems(itemsToDisplay = desertsData) {
        const menuGrid = document.getElementById('menuGrid');
        menuGrid.innerHTML = '';

        itemsToDisplay.forEach(item => {
          let badgeHTML = '';
          if (item.badge) {
            const badgeClass = item.badge === 'Best Seller' ? 'badge-small' : 'badge-small badge-vegan';
            badgeHTML = `<span class="${badgeClass}">${item.badge}</span>`;
          }

          const card = document.createElement('article');
          card.className = 'card';
          card.dataset.category = item.category;
          card.dataset.price = item.price;
          card.dataset.name = item.name.toLowerCase();
          card.innerHTML = `
            <div class="img-container">
              ${badgeHTML}
              <span class="price-tag">Rs. ${item.price}</span>
              <img src="${item.image}" class="card-img" />
            </div>
            <div class="card-content">
              <h3>${item.name}</h3>
              <span class="price">Rs. ${item.price}</span>
              <p class="item-desc">${item.description}</p>
              <div class="card-actions">
                <div class="quantity-picker">
                  <button onclick="changeQty(this, -1)">
                    <span class="material-symbols-outlined">remove</span>
                  </button>
                  <span class="qty-count">1</span>
                  <button onclick="changeQty(this, 1)">
                    <span class="material-symbols-outlined">add</span>
                  </button>
                </div>
                <button class="btn-add-cart" onclick="addToCart('${item.name}', ${item.price}, this)">
                  <span class="material-symbols-outlined">add_shopping_cart</span>
                  Add to Cart
                </button>
              </div>
            </div>
          `;
          menuGrid.appendChild(card);
        });
      }

      // Search functionality
      function searchItems(query) {
        const searchTerm = query.toLowerCase().trim();
        if (searchTerm === '') {
          loadItems(desertsData);
        } else {
          const filteredItems = desertsData.filter(item =>
            item.name.toLowerCase().includes(searchTerm) ||
            item.description.toLowerCase().includes(searchTerm)
          );
          loadItems(filteredItems);
        }
      }

      // Initialize on page load
      document.addEventListener('DOMContentLoaded', () => {
        loadItems();

        // Add search event listener
        const searchInput = document.getElementById('search-input');
        if (searchInput) {
          searchInput.addEventListener('input', (e) => {
            searchItems(e.target.value);
          });
        }

        // Filter functionality
        const filterButtons = document.querySelectorAll('.filter-pills .pill');
        const menuGrid = document.getElementById('menuGrid');

        filterButtons.forEach(button => {
          button.addEventListener('click', () => {
            filterButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            const filter = button.dataset.category;
            const cards = menuGrid.querySelectorAll('.card');

            cards.forEach(card => {
              const category = card.dataset.category || "";
              if (filter === "all" || category === filter) {
                card.style.display = "block";
              } else {
                card.style.display = "none";
              }
            });
          });
        });

        initializeQuickBite();
        updateMobileCartUI();
      });
    </script>
  </body>
</html>
